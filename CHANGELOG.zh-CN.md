# 更新日志
这个文件记录devops-service所有版本的重大变动。

## [0.9.0] - 2018-08-17
### 新增
- 采用GitOps方式重构部署流程
- 增加环境总览相关接口
### 改变
- 重写部署实例values，支持标准yml格式
- 网络多端口支持，label selector 支持，NodePort类型支持

## [0.8.0] - 2018-07-20
### 新增
- 增加代码仓库、分支、标记、合并请求，以实现更多灵活的分支管理模型。
- 与敏捷管理连通，实现敏捷问题管理及持续交付代码管理一致性。
- 分支管理集成push、merge request webhook。
- 在容器日志中增加job操作事件消息。
- 实例部署配置文件只保存相对于版本中的修改部分，并支持保存新增参数。 
- 支持ci pipeline的额外阶段-代码质量检查在界面显示。
- 应用管理增加sonarqube链接接口。
- 版本升级的时候通过请求API实现版本间的平滑升级。


### 改变
- 修改CI生成版本号的命名规则。
- 配置文件信息存储方式修改为只保存修改内容。

### 移除
- 应用管理中的分支管理。

## [0.7.0] - 2018-06-29
### 新增
- 应用导出，以便在其他平台使用该平台研发的应用。
- 应用导入，以便导入其他平台研发的应用并部署使用。
- 实例、网络、域名发现，以便平台进行自我管理和升级。
- 网络管理实例不可用验证。
- 网络端口合法性验证。
- 域名管理网络不可用验证。
- 域名管理Path地址重复性验证。
- 每个权限上增加默认角色。
- 停用环境时校验该环境下不能存在网络及域名设置。

### 改变
- 后台报错支持中英文翻译。
- 修改两个API命名使其符合命名规范及权限检查规范。
- 优化用户获取预定义应用模板获取方式，无需再手工创建。

### 修复
- 应用部署时Values替换错乱。
- 持续集成流水线时长不准确。
- 应用市场中应用详情README在部分情况下无法获取。


## [0.6.0] - 2018-06-10
### 新增
- 增加发布管理，包括应用发布及应用市场。
- 在网络/域名管理中增加网络/域名状态和操作类型及状态以便跟踪网络/域名的运行情况。
- 增加容器日志以便追踪容器运行情况。
- 在应用部署中增加review功能以便用户确认操作。
- 在环境流水线中增加升级提示。
- 在环境客户端上增加资源对象一致性机制。
- 在环境客户端上增加消息发送失败及超时确认机制。

### 改变
- 重构应用部署页面，移除实例查看功能，增加应用实例页面。
- 在网络管理中区分自身端口和目标端口。
- 修改三个预定义应用模板使其能顺利生成版本及部署成功。
- 基于更规范的命名规则修改一些API。
- 优化了首次用helm部署的实例扫回机制。

### 移除
- 快速部署。

### 修复
- 修复分支管理的版本判断逻辑错误及前台提示错误。
- 修复devops和agent重启后各对象状态不一致。
- 修复组织管理员不在gitlab template group中。
- 修复一些其他小bug。